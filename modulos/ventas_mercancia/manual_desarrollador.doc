Modulo: Ventas de Mercancia.

Descripción: modulo encargado de gestionar la información relacionada a todo el proceso de ventas de mercancia en el negocio. En este módulo se puede elegir el vendedor, cliente, bodega, caja, con el fin de realizar una venta adecuada con el registro respectivo. Este módulo esta directamente relacionado con el módulo de cotizaciones.

Este módulo también trabaja con las notas debito y crédito que nos puede enviar un cliente.

dato: este módulo tiene la funcionalidad de guardar facturas temporales, esto significa que a medida que se va generando una factura se va guardando la información de la misma, esto significa que si por algun mótivo se cierra la factura en la que estamos trabajando, esta factura puede ser recuperada facilmente desde la pantalla principal del usuario que la estaba generando.

En resumen este módulo es como tres módulos en uno, el primero y principal seria el módulo de registro de facturas de venta, el segundo sería el modulo de cotizaciones y el tercero sería el módulo que se encarga de ir guardando las facturas temporales.

nota: cuando realizamos una factura a partir de una factura temporal y esta factura es finalizada, la factura temporal es inmediatamente removida del sistema. Si se desea remover una factura temporal por el motivo que sea, siempre se puede hacer desde la pantalla pricipal del usuario en donde estas son listadas.

Clases: FacturaVenta, NotaCreditoCliente, NotaDebitoCliente.

Tablas: 
fom_facturas_ventas: almacena la información de la factura, ejemplo fecha, cliente, iva, valor flete, etc.
fom_articulos_factura_venta: almacena la información de los articulos que fueron registrados en dicha factura.
fom_cotizaciones: almacena la información de las cotizaciones registradas en el sistema.

nota: este modulo trabaja con otras cuantas "muchas" tablas, debido a su relacion directa con el modulo de cotizaciones y con la funcionalidad de "guardar facturas temporales",  a continuación se listan las otras tablas con las que trabaja este módulo:

tablas de las facturas temporales:
fom_facturas_temporales_venta
fom_articulos_facturas_temporales_venta

nota: tambien se incluyen las tablas que almacenan la información de las notas crédito y de las notas débito. Debido a que las notas debito y crédito pueden afectar los articulos que aparecen en las facturas, hay que guardar estos datos en ciertas tablas, a continuación se listan dichas tablas:
fom_notas_credito_clientes
fom_notas_debito_clientes

fom_articulos_modificados_ncc (ncc = nota crédito cliente)
fom_articulos_modificados_ndc (ndc = nota débito cliente)

Estructura relacional:

Una factura tiene 1..* articulos.

Una factura temporal tiene 1..* articulos (esto significa que se empiezan a almacenar las facturas en el momento en el que se agrega el primer articulo).

Una factura de venta tiene 1..* notas debito
Una factura de venta tiene 1..* notas crédito

Una nota crédito tiene 0 ... * articulos modificados
Una nota débito tiene 0 ... * articulos modificados

Integridad referencial:

TBD


Ayuda:

Ir al módulo:
primero debe de dirigirse al módulo, dispone de dos opciones. La primera a través del menú principal, click en procesos, Ventas, Venta Mercancia, con esto el sistema desplegará el módulo en la misma pestaña donde te encuentras actualmente. La segunda opción es presionando la combinación de teclas Ctrl + F1, se desplegara la ventana modal con un campo de texto donde podras escribir el nombre del módulo al cual te deseas dirigir, en este caso "venta de mercancia", basta solo con escribir unas pocas letras y el sistema autocompletará con las opciones según los módulos disponibles, selecciona la opción "Venta de Mercancia" y el sistema desplegará el módulo en una nueva pestaña del navegador.

Ingresar una factura de venta: En el formulario de vneta de mercancia usted podrá ver una especie de tres secciones. Una sección superior compuesta por tres filas de campos, una sección central de color verde donde aparecerá el listado de articulos a vender, y una sección inferior con dos filas de campos y el botón "Finalizar factura". Se mencionan los campos a llenar para ingresar una factura siguiendo el orden en el que aparecen en el formulario. Para ingresar una factura de venta primero se debe escoger un cliente al cual se le va a realizar la venta, (si el cliente no se encuentra registrado en el sistema, lo puede registrar haciendo click en el simbolo "+" que se encuentra a la derecha del selector de los clientes). También debe de seleccionar una fecha de venta (por defecto aparece la fecha actual). Debe de escoger la bodega de la cual va a sacar la mercancia. Debe de seleccionar la caja con la cual va salir la venta de la mercancia. al final de la fila 2 encuentra tres botones con forma de icono. Ubique el cursor del raton encima de estos iconos y podra ver la ayuda. A continuación se resume la funcionalidad de cada uno de estos botones, mencionandolos en el mismo orden en el que aparecen de izquierda a derecha:

1)Buscar catalogo moto: permite buscar el catalogo de una moto. Ingrese algunos caracteres en el campo que aparece en el formulario, seleccione una moto de la lista y podrá ver el catálogo de la moto. 

2)Buscar cotizacion y cargarla: muestra el formulario para buscar cotizaciones registradas en el sistema (se cataloga a las cotizaciones como pedidos registrados y una vez arriba la mercancia, se utiliza este pedido registrado para ingresar la factura de venta al sistema, evitando asi registrar de nuevo toda esta información). click en este boton y aparecera el formulario que permite filtrar por numero de cotización, o por cliente y un rango de fechas.

3)Buscar facturas en el sistema: permite buscar facturas en el sistema filtrando por cliente y por un rango de fechas.


En la tercera fila, en primer lugar se encuentra el campo para adicionar los articulos a la factura, escribe algún caracter para iniciar la busqueda de un articulo, lo podras buscar por descripción, PLU, o referencia. Al seleccionarlo ya sea haciendo click con el mouse, o moviendose con las flechas del teclado y presionando enter, automáticamente se agregará al listado de articulos (seccion central de color verde). Si el articulo a ser comprado no existe en el sistema, lo puedes ingresar desde este mismo formulario haciendo click en el simbolo "+" que se encuentra a la derecha del campo para "agregar articulos al listado". Despues se encuentra el boton "Ingresar Varios", este boton sirve para que el sistema muestre el listado general de articulos. Allí podras buscar los articulos que necesites e inclusive parametrizar dichas busquedas (buscar por descripcion, linea, subgrupo, etc.). Una vez tengas en pantalla los articulos que necesitas podras seleccionar varios articulos (haciendo click con el ratón sobre la fila del articulo, veras como cambia de color y queda seleccionada) y agregarlos simultaneamente (haciendo click en el boton ubicado en la parte superior izquierda con el icono "+"). Enseguida de este boton aparece el campo "Descuento general para todos los articulos", en este campo podras ingresar un valor (porcentaje de descuento) y este se aplicará a todos los articulos del listado de articulos a vender. (Igualmente tienes la opción para cambiar el descuento a cada uno de los articulos en particular desde el listado de articulos). 


En la seccion central aparecen los articulos que se van ingresando para la venta. Dispones de diversas opciones en dicho listado, por favor presta mucha atención a todas las ayudas ofrecidas por el sistema. A medida que vas seleccionando articulos, iran apareciendo en esta sección. En cada una de las filas encuentras primero, el nombre del articulo a ingresar, un campo con la cantidad a vender (por defecto aparece 1), un campo de "descuento" para aplicar un descuento particular a ese articulo, un campo de precio unitario (por defecto trae el ultimo precio al que fue comprado este articulo), un campo que muestra el porcentaje del iva, un campo que permite ver el valor del iva total, un campo para el subtotal, despues aparecen dos botones, uno con forma de "X" que es para borrar este articulo del listado, y otro con forma de binoculares que sirve para consultar toda la información de ese articulo en particular. 


Una vez se tiene el listado total de los articulos a vender en la "factura de venta", se deben ingresar los campos de la seccion inferior, primero se encuentra el campo "valor flete", alli se debe ingresar el valor del flete, despues tenemos el campo "Concepto del descuento 1", Ingresa alli el concepto por el cual te realizaron el descuento (Solo ingresar valores si se realizó un descuento). Y en el campo inmediatamente seguido ingresa el valor en porcentaje del descuento (Solo ingresar valores si se realizó un descuento). Aparece tambien el boton "+dcto", click  alli si necesita aplicar más descuentos sobre esta factura y se mostrará otro campo de concepto y otro campo para ingresar el segundo descuento. En la fila final aparece el campo observaciones donde podras ingresar observaciones de dicha factura de venta. Despues esta el campo IVA, por defecto va calculando su valor a medida que se ingresan valores en el formulario (En caso de no coincidir este valor con el que viene en la factura, igualmente puede ser modificado). Por ultimo tenemos un "texto" que muestra el total de la factura, y en la parte inferior izquierda del formulario se encuentra el boton "Fin factura".


Al hacer click en el boton "Fin factura" el sistema despliega un formulario donde podras escoger entre diversas opciones, como por ejemplo imprimir la factura en la impresora POS, o en la impresora normal. Tambien podras escoger si deseas en vez de ingresar la factura al sistema, solamente generar una "Cotizacion" (podras generar un archivo PDF el cual podras entregar al cliente para que cuando venga a comprar los articulos que aparecen en dicho pedido, le permita buscar en el sistema esta "cotizacion" y generar el ingreso de la factura desde esa "cotizacion", asi no tendras que ingresar nuevamente toda la factura). 


Otra de las opciones que encontramos en el formulario que se despliega al hacer click en "Fin factura" es escoger el medio de pago, pues segun el medio de pago, se despliegan campos para ingresar los valores correspondientes, por ejemplo, si vamos a pagar una factura por total de 1000, 50% en efectivo, 20% con tarjeta, y 30% a credito, debe existir un tipo de pago algo asi como "Credi-contado efectivo-tarjeta", al seleccionarlo se mostraran los campos para introducir el valor equivalente a cada porcentaje, segun esto, en el campo efectivo se ingresaria 500, en  el campo tajeta 200, y en el campo "credito" 300. Cada uno de estos ingresos afectaran la contabilidad de manera diferente.


Modificar Factura: para modificar una "factura de venta" debe de dirigirse al módulo de "facturas de venta", hacer click derecho sobre la fila donde aparece la factura que desea modificar y ver las opciones que alli aparecen.


Para ver el resto de ayudas y funcionalidades relacionadas con las facturas de venta debe de dirigirse a la documentación del módulo de "Facturas de venta".


Pruebas de usuario realizadas al modulo: 

1) Ingresar factura: Se ingresan los datos de la factura de venta y se hace click en "Fin factura". (Funcionando perfecto, el sistema despliega el formulario para finalizar la factura).

1.1) se validan los campos obligatorios como no vacios y que los campos  autocompletables o de un tipo de dato especifico tengan un valor adecuado (Funcionando perfectamente, el sistema no permite el ingreso de los datos hasta que todos los datos son los adecuados).

1.1.1) Si el cliente no se encuentra registrado en el  sistema, se ingresa haciendo click en el botón "+" ubicado al lado del selector de clientes.(Funcionando perfecto, se ingresa el cliente y los cambios se ven reflejados en el selector de clientes).


1.1.2)Se busca una factura en el sistema por cliente y en un rango de fechas (validando que ninguno de los datos del formulario debe de estar vacio). (Funcionando perfecto)


1.1.3)se hace click en "buscar catalogo de moto", se despliega el formulario y se selecciona una moto. (Funcionando perfecto, el autocompletable muestra las motos según lo que escriba el usuario y carga el catálogo)


1.1.4)Se hace click en "cargar cotizacion", se despliega el formulario para buscar la cotizacion, ya sea en busqueda simple (por numero de cotizacion), o busqueda avanzada (por cliente y entre un rango de fechas). (Funcionando perfecto, se carga la cotizacion y se puede facturar a partir de ella)


*Para ver el resto de la documentación de la interacción del módulo de ventas de mercancias por favor dirigirse al módulo de facturas de ventas.